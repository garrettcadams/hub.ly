!function(p){"use strict";var c=c||{};c.init=function(){c.$body=p(document.body),c.$window=p(window),c.$header=p("#site-header"),this.preLoader(),this.newLetterPopup(),this.vcRow(),this.stickyHeader(),this.productSearchLabel(),this.headerMenu(),this.megaMenu(),this.instanceSearch(),this.topPromotion(),this.mobileMenu(),this.userMobileMenu(),this.pageHeaderParallax(),this.postEntryFormat(),this.singleEntryFormat(),this.blogLoadingAjax(),this.relatedPost(),this.blogLayout(),this.lazyLoad(),this.backToTop(),this.recentlyViewedProducts(),this.catalogBanners(),this.productsTopCarousel(),this.productCategoriesWidget(),this.toolTipIcon(),this.searchLayeredNav(),this.productAttribute(),this.shopView(),this.addWishlist(),this.addCompare(),this.productQuickView(),this.variationImagesCarousel(),this.productTopCategories(),this.filterAjax(),this.catalogOpenCartMini(),this.hoverProductTabs(),this.productQuantity(),this.productThumbnail(),this.productGallery(),this.productDegree(),this.singleProductCarousel(),this.fbtProduct(),this.fbtAddToCartAjax(),this.fbtAddToWishlistAjax(),this.instagramCarousel(),this.productVatiation(),this.addToCartAjax(),this.stickyProductInfo(),this.filterOnMobile(),p(document.body).on("martfury_get_products_ajax_success",function(){c.toolTipIcon()})},c.preLoader=function(){c.$body.hasClass("mf-preloader")&&(NProgress.start(),c.$window.on("load",function(){NProgress.done(),p("#page").addClass("fade-in")}))},c.vcRow=function(){"true"===martfuryData.direction&&p(document).on("vc-full-width-row-single",function(t,e){e.el.css({left:"auto",right:e.offset})})},c.stickyHeader=function(){if(c.$body.hasClass("sticky-header")){var t=0,e=c.$header.find(".header-main-wapper"),o=e.outerHeight()-18,i=p("#top-promotion"),a=0<i.length?i.outerHeight(!0):0,r=p("#topbar"),n=0<r.length?r.outerHeight(!0):0,s=c.$header.outerHeight(!0);t=n+a+s,c.$window.on("scroll",function(){0<i.length&&i.hasClass("invisible")&&(t=s+n),c.$window.scrollTop()>t?(c.$header.addClass("minimized"),e.css({"padding-top":o})):(c.$header.removeClass("minimized"),e.removeAttr("style"))})}},c.topPromotion=function(){var e=p("#top-promotion");e.length<1||e.on("click",".close",function(t){t.preventDefault(),e.slideUp().addClass("invisible")})},c.mobileMenu=function(){var t=p("#primary-mobile-nav");function e(t){t.closest("li").siblings().find("ul").slideUp(),t.closest("li").siblings().removeClass("active"),t.closest("li").siblings().find("li").removeClass("active"),t.closest("li").children("ul").slideToggle(),t.closest("li").toggleClass("active")}c.$header.on("click","#mf-toggle-menu",function(t){t.preventDefault(),c.$body.toggleClass("display-mobile-menu")}),t.find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>'),c.$body.hasClass("submenus-mobile-icon")?t.on("click",".toggle-menu-children",function(t){t.preventDefault(),e(p(this))}):t.on("click",".menu-item-has-children > a",function(t){t.preventDefault(),e(p(this))}),t.on("click",".close-canvas-mobile-panel",function(t){t.preventDefault(),c.$body.removeClass("display-mobile-menu")}),p("#mf-off-canvas-layer").on("click",function(t){t.preventDefault(),c.$body.removeClass("display-mobile-menu mb-filter-active")}),c.$window.on("resize",function(){1200<c.$window.width()&&c.$body.removeClass("display-mobile-menu")})},c.userMobileMenu=function(){var t=p("#primary-user-nav");t.length<1||(c.$window.on("resize",function(){c.$window.width()<1200?c.$body.addClass("canvas-menu-mobile"):c.$body.removeClass("canvas-menu-mobile")}).trigger("resize"),c.$header.find(".menu-item-account.logined").on("click","a",function(t){c.$body.hasClass("canvas-menu-mobile")&&(t.preventDefault(),c.$body.toggleClass("display-user-mobile"))}),t.on("click",".close-canvas-mobile-panel",function(t){t.preventDefault(),c.$body.removeClass("display-user-mobile")}),p("#mf-off-canvas-layer").on("click",function(t){t.preventDefault(),c.$body.removeClass("display-user-mobile")}))},c.newLetterPopup=function(){var e=p("#mf-newsletter-popup"),o=parseInt(martfuryData.nl_days),t=parseInt(martfuryData.nl_seconds);function i(t){var e=new Date,o=e.getTime();e.setTime(e.getTime()+24*t*60*60*1e3),document.cookie="mf_newletter="+o+";expires="+e.toGMTString()+";path=/"}e.length<1||(c.$window.on("load",function(){setTimeout(function(){e.addClass("open")},1e3*t)}),e.on("click",".close-modal",function(t){t.preventDefault(),i(o),e.removeClass("open"),e.fadeOut()}),e.on("click",".n-close",function(t){t.preventDefault(),i(30),e.removeClass("open"),e.fadeOut()}),e.find(".mc4wp-form").submit(function(){i(o)}))},c.backToTop=function(){var t=p("#scroll-top");c.$window.scroll(function(){c.$window.scrollTop()>c.$window.height()?t.addClass("show-scroll"):t.removeClass("show-scroll")}),t.on("click",function(t){t.preventDefault(),p("html, body").stop().animate({scrollTop:0},800)})},c.headerMenu=function(){if(!(c.$body.hasClass("header-layout-3")||c.$body.hasClass("header-layout-1")||c.$header.find(".products-cats-menu").length<1)){var t=c.$header.find(".products-cats-menu").position().left;if("true"===martfuryData.direction){var e=c.$header.find(".header-logo").width()-t-c.$header.find(".products-cats-menu").width()+15;c.$header.find(".toggle-product-cats").css({right:-1*e})}else c.$header.find(".toggle-product-cats").css({left:-1*t})}},c.megaMenu=function(){c.$header.find(".primary-nav .menu-item.is-mega-menu").each(function(){var t=p(this).children(".dropdown-submenu").width(),e=p(this).closest(".col-header-menu").width(),o=p(this).outerWidth(),i=p(this).position().left+o/2-t/2;e-p(this).position().left+o/2-t/2<0?p(this).removeClass("has-width").addClass("align-right"):i<0&&p(this).removeClass("has-width").addClass("align-left")})},c.productSearchLabel=function(){c.$header.on("change","#product_cat",function(){var t=p(this).find("option:selected").text().trim();c.$header.find(".product-cat-label").html(t)}),c.$header.find(".products-search").submit(function(){"0"==p(this).find("#product_cat").val()&&p(this).find("#product_cat").removeAttr("name")})},c.postEntryFormat=function(){c.$body.hasClass("mf-blog-page")&&(p(".blog-wapper").find(".entry-format").find(".slides").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),p(".blog-wapper").find(".entry-format").fitVids({customSelector:"iframe, video"}))},c.toolTipIcon=function(){p(".catalog-sidebar").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find(".compare").tooltip({content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(document.body).on("added_to_cart",function(){p(".mf-product-thumbnail").find(".added_to_cart").tooltip({offsetTop:-15,content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}})})},c.variationImagesCarousel=function(){p(".woocommerce ul.products li.product").find(".mf-attr-swatches-slick").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right  slick-next-arrow"></span>'})},c.addWishlist=function(){p("ul.products li.product .yith-wcwl-add-button").on("click","a",function(){p(this).addClass("loading")}),c.$body.on("added_to_wishlist",function(){p("ul.products li.product .yith-wcwl-add-button a").removeClass("loading")}),c.$body.on("added_to_wishlist removed_from_wishlist",function(){p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"update_wishlist_count"},success:function(t){c.$header.find(".menu-item-wishlist .mini-item-counter").html(t)}})})},c.addCompare=function(){c.$body.on("click","a.compare:not(.added)",function(t){t.preventDefault();var e=p(this);e.addClass("loading"),e.closest(".product-inner").find(".compare:not(.loading)").trigger("click");var o=!1;if(p(this).hasClass("added")&&(o=!0),!1===o){var i=c.$header.find("#mini-compare-counter").html();i=parseInt(i,10)+1,setTimeout(function(){c.$header.find("#mini-compare-counter").html(i)},2e3)}}),p(document).find(".compare-list").on("click",".remove a",function(t){t.preventDefault();var e=p("#mini-compare-counter",window.parent.document).html();(e=parseInt(e,10)-1)<0&&(e=0),p("#mini-compare-counter",window.parent.document).html(e)}),p(".yith-woocompare-widget").on("click","li a.remove",function(t){t.preventDefault();var e=$header.find("#mini-compare-counter").html();(e=parseInt(e,10)-1)<0&&(e=0),setTimeout(function(){$header.find("#mini-compare-counter").html(e)},2e3)}),p(".yith-woocompare-widget").on("click","a.clear-all",function(t){t.preventDefault(),setTimeout(function(){$header.find("#mini-compare-counter").html("0")},2e3)})},c.productQuantity=function(){c.$body.on("click",".quantity .increase, .quantity .decrease",function(t){t.preventDefault();var e=p(this),o=e.siblings(".qty"),i=parseInt(o.val(),10),a=parseInt(o.attr("min"),10),r=parseInt(o.attr("max"),10);a=a||1,r=r||i+1,e.hasClass("decrease")&&a<i&&(o.val(i-1),o.trigger("change")),e.hasClass("increase")&&i<r&&(o.val(i+1),o.trigger("change"))})},c.productThumbnail=function(){var a=p(".woocommerce-product-gallery"),e=a.find(".woocommerce-product-gallery__image.mf-product-video"),o=a.find(".flex-control-thumbs");if(a.imagesLoaded(function(){setTimeout(function(){if(!(o.length<1)){var t=a.data("columns");t<o.find("li").length?p(".mf-single-product").hasClass("mf-product-sidebar")?o.not(".slick-initialized").slick({slidesToShow:t,focusOnSelect:!0,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}):(o.not(".slick-initialized").slick({slidesToShow:t,slidesToScroll:1,focusOnSelect:!0,vertical:!0,infinite:!1,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>',responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]}),o.find("li.slick-current").trigger("click")):o.addClass("no-slick"),0<e.length&&(p(".woocommerce-product-gallery").addClass("has-video"),o.find("li").last().append('<i class="i-video fa fa-play"></i>'))}},100)}),c.$window.on("load",function(){p(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(p(this).find("img").hasClass("lazy")){var t=p(this).find("img").data("original");p(this).find("img").attr("src",t)}})}),!(e.length<1)){var r=!1,n=!1;o.on("click","li",function(){var t=a.find(".mf-product-video"),e=p(this).siblings().length;if(n=!0,p(this).index()==e&&(r=n=!1),!r&&n){var o=t.find("iframe"),i=t.find("video.wp-video-shortcode");0<o.length&&o.attr("src",o.attr("src")),0<i.length&&i[0].pause(),r=!0}return!1}),o.find("li").on("click",".i-video",function(t){t.preventDefault(),p(this).closest("li").find("img").trigger("click")})}},c.productGallery=function(){var t=p(".woocommerce-product-gallery");"1"==martfuryData.product_gallery?t.length&&(t.find(".woocommerce-product-gallery__image").hover(function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide"),p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")},function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide"),p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")}),t.on("click",".woocommerce-product-gallery__image",function(t){if(t.preventDefault(),p(this).hasClass("mf-product-video"))return!1;var e=[],o=p(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image");o.each(function(){var t=p(this);t.hasClass("mf-product-video")?e.push({html:t.children("a").attr("href")}):e.push({src:t.children("a").attr("href"),w:t.find("img").attr("data-large_image_width"),h:t.find("img").attr("data-large_image_height")})});var i={index:o.index(p(this)),bgOpacity:.85,showHideOpacity:!0,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,tapToClose:!0,tapToToggleControls:!1},a=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,e,i);a.init(),a.listen("close",function(){p(".mf-video-wrapper").find("iframe").each(function(){p(this).attr("src",p(this).attr("src"))}),p(".mf-video-wrapper").find("video").each(function(){p(this)[0].pause()})})})):t.on("click",".woocommerce-product-gallery__image",function(t){t.preventDefault()})},c.productDegree=function(){var t=p(".woocommerce-product-gallery .product-degree-images");if(!(t.length<1||martfuryData.product_degree.length<1)){var a="",r=p("#product-degree-pswp");t.on("click",function(t){if(t.preventDefault(),c.openModal(r),!r.hasClass("init")){r.addClass("init");for(var e=martfuryData.product_degree.split(","),o=[],i=0;i<e.length;i++)o.push(e[i]);a=r.find(".mf-product-gallery-degree").ThreeSixty({totalFrames:o.length,endFrame:o.length,currentFrame:1,imgList:r.find(".product-degree-images"),progress:".mf-gallery-degree-spinner",imgArray:o,height:500,width:830,navigation:!1}),r.find(".product-degree-images").imagesLoaded(function(){r.find(".nav_bar").removeClass("hide")}),r.find(".nav_bar_previous").on("click",function(){a.previous()}),r.find(".nav_bar_next").on("click",function(){a.next()}),r.find(".nav_bar_play").on("click",function(){p(this).hasClass("play")?(a.stop(),p(this).removeClass("play")):(a.play(),p(this).addClass("play"))}),r.on("click",".degree-pswp-close, .degree-pswp-bg",function(){a.stop(),p(this).removeClass("play")})}}),r.on("click",".degree-pswp-close, .degree-pswp-bg",function(){c.closeModal(r)})}},c.openModal=function(t){t.fadeIn(),t.addClass("open")},c.closeModal=function(t){t.fadeOut(function(){p(this).removeClass("open")})},c.hoverProductTabs=function(){var t,e,o,i,a,r=p(".mf-single-product .woocommerce-tabs").find("ul.wc-tabs");if(!(r.length<1)){r.append('<li id="tl-wc-tab" class="tl-wc-tab"></li>');var n=p("#tl-wc-tab");a=r.children("li.active").outerWidth(),n.width(a).css("left",r.children("li.active").position().left).data("origLeft",n.position().left).data("origWidth",n.width()),i=n.data("origWidth"),r.children("li").hover(function(){t=p(this),o=t.outerWidth(),e=t.position().left,n.stop().animate({left:e,width:o})},function(){n.stop().animate({left:n.data("origLeft"),width:i})}),r.on("click","li",function(){t=p(this),i=o=t.outerWidth(),e=t.position().left,n.stop().animate({left:e,width:o}),n.data("origLeft",e).data("origWidth",o)})}},c.searchLayeredNav=function(){var t=p(".mf-widget-layered-nav");t.length<1||(t.find(".mf-widget-layered-nav-scroll").each(function(){var t=p(this).data("height");p(this).height()>parseInt(t)&&p(this).slimScroll({height:t,railVisible:!0,alwaysVisible:!0,size:"6px",color:"#666",railColor:"#ccc",railOpacity:1})}),t.on("keyup",".mf-input-search-nav",function(t){var e=!1;if(void 0===t.which?e=!0:"number"==typeof t.which&&0<t.which&&(e=!t.ctrlKey&&!t.metaKey&&!t.altKey),e){var o=p(this).val().toUpperCase(),i=p(this).closest(".mf-widget-layered-nav"),a=i.find(".woocommerce-widget-layered-nav-list");a.children(".wc-layered-nav-term").each(function(){-1<p(this).find("a").data("title").toUpperCase().indexOf(o)?p(this).show():p(this).hide()});var r=a.data("height");a.height()<parseInt(r)?i.addClass("no-scroll"):i.removeClass("no-scroll")}}))},c.instanceSearch=function(){if("1"==martfuryData.ajax_search){var n=null,s={},o=c.$header.find(".products-search");o.on("keyup",".search-field",function(t){var e=!1;if(void 0===t.which?e=!0:"number"==typeof t.which&&0<t.which&&(e=!t.ctrlKey&&!t.metaKey&&!t.altKey),e){n&&n.abort();var o=p(this).closest(".products-search");o.find("input.search-field").val().length<2&&o.removeClass("searching searched actived found-products found-no-product invalid-length"),i(o)}}).on("change","#product_cat",function(){n&&n.abort(),i(p(this).closest(".products-search"))}).on("focusout",".search-field",function(){var t=p(this).closest(".products-search");t.find("input.search-field").val().length<2&&t.removeClass("searching searched actived found-products found-no-product invalid-length")}),p(document).on("click",function(t){if(o.hasClass("actived")){var e=t.target;p(e).closest(".products-search").length<1&&o.removeClass("searching searched actived found-products found-no-product invalid-length")}})}function i(o){var t=o.find("input.search-field").val(),e=0,i=o.find(".search-results");if(0<o.find("#product_cat").length&&(e=o.find("#product_cat").val()),t.length<2)o.removeClass("searching found-products found-no-product").addClass("invalid-length");else{o.removeClass("found-products found-no-product").addClass("searching");var a=t+e;if(a in s){var r=s[a];o.removeClass("searching"),o.addClass("found-products"),i.html(r.products),p(document.body).trigger("martfury_ajax_search_request_success",[i]),o.removeClass("invalid-length"),o.addClass("searched actived")}else n=p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_search_products",nonce:martfuryData.nonce,term:t,cat:e,search_type:martfuryData.search_content_type},success:function(t){var e=t.data;o.removeClass("searching"),o.addClass("found-products"),i.html(e),o.removeClass("invalid-length"),p(document.body).trigger("martfury_ajax_search_request_success",[i]),s[a]={found:!0,products:e},o.addClass("searched actived")}})}}},c.singleEntryFormat=function(){if(c.$body.hasClass("single-post")){p(".single-post-header.layout-2").find(".featured-image").parallax("50%",.6);var t=p("#mf-single-entry-format");t.find(".slides").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),t.fitVids({customSelector:"iframe, video"})}},c.blogLayout=function(){c.$body.hasClass("blog-layout-masonry")&&c.$body.imagesLoaded(function(){c.$body.find(".mf-post-list").isotope({itemSelector:".blog-wapper",layoutMode:"masonry"})})},c.relatedPost=function(){if(c.$body.hasClass("single-post")){var t=p("#mf-related-posts").find(".related-posts-list");t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:3,slidesToScroll:1,dots:!0,infinite:!1,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),t.on("afterChange",function(){c.lazyLoad()})}},c.blogLoadingAjax=function(){c.$window.on("scroll",function(){c.$body.find("#mf-infinite-loading").is(":in-viewport")&&c.$body.find("#mf-infinite-loading").trigger("click")}).trigger("scroll"),c.$body.on("click","#mf-infinite-loading",function(t){if(t.preventDefault(),!p(this).data("requestRunning")){p(this).data("requestRunning",!0);var i=c.$body.find(".mf-post-list"),a=p(this).parents(".navigation");p.get(p(this).closest(".page-numbers").attr("href"),function(t){var e=p(t).find(".mf-post-list").children(".blog-wapper"),o=p(t).find(".navigation").html();a.html(o),i.append(e),a.find("a").data("requestRunning",!1),c.lazyLoad(),c.postEntryFormat()})}})},c.pageHeaderParallax=function(){if(p(".page-header").hasClass("page-header-sliders")){var t=p(".page-header-sliders"),e=t.data("speed"),o=t.data("auto");t.find("ul").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplaySpeed:e,autoplay:o,arrows:!1}),t.on("click",".slick-prev-arrow",function(){t.find("ul").slick("slickPrev")}),t.on("click",".slick-next-arrow",function(){t.find("ul").slick("slickNext")})}},c.lazyLoad=function(){c.$body.find("img.lazy").lazyload({load:function(){p(this).removeClass("lazy")}}),c.$window.on("load",function(){p(".mf-products-list-carousel").find("img.lazy").lazyload({load:function(){p(this).removeClass("lazy")}}).trigger("appear")})},c.recentlyViewedProducts=function(){function a(){var e=p("#footer-recently-viewed");e.length<=0||e.hasClass("load-ajax")&&(e.hasClass("loaded")||p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_footer_recently_viewed",nonce:martfuryData.nonce},error:function(){e.addClass("no-products")},success:function(t){e.html(t.data),e.find(".product-list").hasClass("no-products")&&e.addClass("no-products"),c.lazyLoad(),o(e),e.addClass("loaded")}}))}function o(t){t.find(".product-list").hasClass("no-products")||t.find(".product-list").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:8,slidesToScroll:8,arrows:!0,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}}]})}a(),function(){var t=p("#footer-history-products"),e=!0,o=p("#footer-recently-viewed"),i=p("#mf-off-canvas-layer");if(t.length<=0)return;t.on("click",".recently-title",function(t){t.preventDefault(),o.addClass("load-ajax"),i.toggleClass("opened"),o.slideToggle(400,function(){e&&(a(),e=!1)}),p(this).toggleClass("active")}),i.on("click",function(){i.removeClass("opened"),t.find(".recently-title").removeClass("active"),o.slideUp(400)})}(),function(){var e=p("#header-recently-viewed");if(e.length<=0)return;c.$window.on("load",function(){p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_header_recently_viewed",nonce:martfuryData.nonce},success:function(t){e.html(t.data),e.find(".product-list").hasClass("no-products")&&e.addClass("no-products"),c.lazyLoad(),o(e)}})})}()},c.catalogBanners=function(){var t=p("#mf-catalog-banners");if(!(t.length<=0)){t.data("columns");var e=t.data("autoplay"),o=!1,i=1e3;0<e?(i=e,e=o=!0):e=!1,t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,autoplaySpeed:i,autoplay:e,infinite:o,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}),t.on("afterChange",function(){c.lazyLoad()})}},c.productsTopCarousel=function(){var t=p(".mf-products-top-carousel");t.length<=0||t.each(function(){var t=p(this).data("columns"),e=p(this).data("autoplay"),o=!1,i=1e3;0<e?(i=e,e=o=!0):e=!1,p(this).find("ul.products").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:t,slidesToScroll:t,autoplaySpeed:i,autoplay:e,infinite:o,dots:!0,prevArrow:p(this).find(".slick-prev-arrow"),nextArrow:p(this).find(".slick-next-arrow"),responsive:[{breakpoint:992,settings:{slidesToShow:3<parseInt(t)?3:t,slidesToScroll:3<parseInt(t)?3:t}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),p(this).on("afterChange",function(){c.lazyLoad()})})},c.productCategoriesWidget=function(){var t=p(".mf_widget_product_categories, .wcv.widget_product_categories");t.length<=0||(t.find("ul.children").closest("li").prepend('<span class="cat-menu-close"><i class="icon-chevron-down"></i> </span>'),t.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show(),t.on("click",".cat-menu-close",function(t){t.preventDefault(),p(this).closest("li").children(".children").slideToggle(),p(this).closest("li").toggleClass("opened")}))},c.productTopCategories=function(){var t=p(".mf-catalog-top-categories");t.length<=0||t.on("click",".cat-menu-close",function(t){t.preventDefault(),p(this).closest("li").children(".sub-categories").slideToggle(),p(this).closest("li").toggleClass("opened")})},c.productAttribute=function(){var a="",r="";c.$body.on("mouseover",".mf-swatch-image",function(t){t.preventDefault();var e=p(this).closest("li.product").find(".mf-product-thumbnail").find("img");a=e.attr("src"),r=e.attr("srcset");var o=p(this).find("img").attr("src"),i=p(this).find("img").attr("srcset");e.attr("src",o),i&&e.attr("srcset",i)}).on("mouseout",".mf-swatch-image",function(t){t.preventDefault();var e=p(this).closest("li.product").find(".mf-product-thumbnail").find("img");a&&e.attr("src",a),r&&e.attr("srcset",r)}),c.$body.on("mouseover",".mf-attr-swatches",function(t){t.preventDefault(),p(this).closest("li.product").find(".mf-product-thumbnail").addClass("hover-swatch")}).on("mouseout",".mf-attr-swatches",function(t){t.preventDefault(),p(this).closest("li.product").find(".mf-product-thumbnail").removeClass("hover-swatch")})},c.shopView=function(){c.$body.on("click",".mf-shop-view",function(t){t.preventDefault();var e=p(this),o=e.data("view");e.hasClass("current")||(c.$body.find(".mf-shop-view").removeClass("current"),e.addClass("current"),c.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+o),document.cookie="shop_view="+o+";domain="+window.location.host+";path=/",p(document.body).trigger("martfury_shop_view_after_change"))}),p(document.body).on("martfury_shop_view_after_change",function(){c.lazyLoad()})},c.singleProductCarousel=function(){var t=c.$body.find(".up-sells ul.products"),e=c.$body.find(".related.products ul.products");if(!(t.length<=0&&e.length<=0)){var o=t.closest(".up-sells").data("columns");t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:parseInt(o),slidesToScroll:parseInt(o),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:4<parseInt(o)?4:parseInt(o),slidesToScroll:4<parseInt(o)?4:parseInt(o)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){c.lazyLoad()});var i=e.closest(".related").data("columns");e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:parseInt(i),slidesToScroll:parseInt(i),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:4<parseInt(i)?4:parseInt(i),slidesToScroll:4<parseInt(i)?4:parseInt(i)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),e.on("afterChange",function(){c.lazyLoad()})}},c.fbtProduct=function(){var a=p("#mf-product-fbt");if(!(a.length<=0)){var r=a.find(".mf-total-price .woocommerce-Price-amount"),n=a.find(".mf_add_to_cart_button"),s=parseFloat(a.find("#mf-data_price").data("price")),c=martfuryData.currency_symbol,l=martfuryData.thousand_sep,d=martfuryData.decimal_sep,u=martfuryData.price_decimals,f=martfuryData.currency_pos;a.find(".products-list").on("click","a",function(t){t.preventDefault();var e=p(this).data("id");p(this).closest("li").toggleClass("uncheck");var o=parseFloat(p(this).closest("li").find(".s-price").data("price"));p(this).closest("li").hasClass("uncheck")?(a.find("#fbt-product-"+e).addClass("un-active"),s-=o):(a.find("#fbt-product-"+e).removeClass("un-active"),s+=o);var i="0";a.find(".products-list li").each(function(){p(this).hasClass("uncheck")||(i+=","+p(this).find("a").data("id"))}),n.attr("value",i),r.html(function(t){var e=t;if(0<parseInt(u)){for(var o=(t=t.toFixed(u)+"").split("."),i=o[0],a=1<o.length?d+o[1]:"",r=/(\d+)(\d{3})/;r.test(i);)i=i.replace(r,"$1"+l+"$2");e=i+a}switch(f){case"left":return c+e;case"right":return e+c;case"left_space":return c+" "+e;case"right_space":return e+" "+c}}(s))})}},c.fbtAddToCartAjax=function(){var t=p("#mf-product-fbt");t.length<=0||t.on("click",".mf_add_to_cart_button.ajax_add_to_cart",function(t){t.preventDefault();var o=p(this);o.addClass("loading");var e=window.location.href,i="",a=0;p("#mf-product-fbt").find(".products-list li").each(function(){p(this).hasClass("uncheck")||(0<a&&(i+=","),i+=" "+p(this).find("a").data("title"),a++)}),p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_fbt_add_to_cart",nonce:martfuryData.nonce,product_ids:o.attr("value")},error:function(){window.location=e},success:function(t){if("undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add){p(document.body).trigger("updated_wc_div"),p(document.body).on("wc_fragments_refreshed",function(){o.removeClass("loading")});var e=i+" "+martfuryData.l10n.notice_texts;c.addedToCartNotice("",e,!1,"success")}else window.location=wc_add_to_cart_params.cart_url}})})},c.fbtAddToWishlistAjax=function(){var o=p("#mf-product-fbt"),i=0;if(!(o.length<=0)){var a=r();0==a.length&&(o.find(".btn-view-to-wishlist").addClass("showed"),o.find(".btn-add-to-wishlist").addClass("hided")),o.on("click",".btn-add-to-wishlist",function(t){t.preventDefault();var e=p(this);0!=(a=r()).length&&(e.addClass("loading"),n(a[i]),c.$body.on("added_to_wishlist",function(){a.length>i?n(a[i]):a.length==i&&(o.find(".btn-view-to-wishlist").addClass("showed"),o.find(".btn-add-to-wishlist").addClass("hided"),e.removeClass("loading"))}))})}function r(){var t=[];return o.find("li.product").each(function(){p(this).hasClass("un-active")||p(this).hasClass("product-buttons")||p(this).find(".yith-wcwl-add-button").hasClass("hide")||-1==t.indexOf(p(this).data("id"))&&t.push(p(this).data("id"))}),t}function n(t){return o.find(".add-to-wishlist-"+t).find(".yith-wcwl-add-button.show .add_to_wishlist").trigger("click"),++i}},c.instagramCarousel=function(){var t=c.$body.find(".mf-product-instagram ul.products"),e=t.data("columns"),o=t.data("auto"),i=!1,a=1e3;t.length<1||(0<o?(a=o,o=i=!0):o=!1,t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:e,slidesToScroll:e,autoplaySpeed:a,autoplay:o,infinite:i,dots:!0,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:4<parseInt(e)?4:parseInt(e),slidesToScroll:4<parseInt(e)?4:parseInt(e)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){c.lazyLoad()}))},c.productQuickView=function(){var i=p("#mf-quick-view-modal"),a=i.find(".product-modal-content");c.$body.on("click",".mf-product-quick-view",function(t){t.preventDefault();var e=p(this).data("id");a.hide().html(""),i.addClass("loading").removeClass("loaded"),c.openModal(i),p.ajax({url:martfuryData.ajax_url,dataType:"json",method:"post",data:{action:"martfury_product_quick_view",nonce:martfuryData.nonce,product_id:e},success:function(t){a.show().append(t.data),i.removeClass("loading").addClass("loaded");var e=a.find(".woocommerce-product-gallery"),o=p(".variations_form");e.removeAttr("style"),e.find("img.lazy").lazyload().trigger("appear"),e.imagesLoaded(function(){e.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})}),e.find(".woocommerce-product-gallery__image").on("click",function(t){t.preventDefault()}),"undefined"!=typeof wc_add_to_cart_variation_params&&o.each(function(){p(this).wc_variation_form()}),void 0!==p.fn.tawcvs_variation_swatches_form&&o.tawcvs_variation_swatches_form(),c.productVatiation(),"undefined"!=typeof tawcvs&&"yes"===tawcvs.tooltip&&o.find(".swatch").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),a.find(".compare").tooltip({content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),a.find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}})}})}),i.on("click",".close-modal, .mf-modal-overlay",function(t){t.preventDefault(),c.closeModal(i)})},c.productVatiation=function(){c.$body.on("tawcvs_initialized",function(){p(".variations_form").unbind("tawcvs_no_matching_variations"),p(".variations_form").on("tawcvs_no_matching_variations",function(t,e){t.preventDefault(),p(".variations_form").find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&p(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),p(".variations_form td.value").on("change","select",function(){var t=p(this).find("option:selected").text();p(this).closest("tr").find("td.label .mf-attr-value").html(t)})},c.addToCartAjax=function(){if("0"!=martfuryData.add_to_cart_ajax){var r=!1;c.$body.on("click",".single_add_to_cart_button",function(t){var i=p(this),e=i.closest("form.cart");if(0<e.length&&(t.preventDefault(),!i.hasClass("disabled")&&(i.addClass("loading"),!r))){r=!0;var o=e.serializeArray(),a=window.location.href;""!=i.val()&&o.push({name:i.attr("name"),value:i.val()}),p.ajax({url:window.location.href,method:"post",data:o,error:function(){window.location=a},success:function(t){if(t||(window.location=a),"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add){p(document.body).trigger("updated_wc_div"),p(document.body).on("wc_fragments_refreshed",function(){i.removeClass("loading")});var e="",o="success";0<p(t).find(".woocommerce-message").length&&(e=p(t).find(".woocommerce-message").html()),0<p(t).find(".woocommerce-error").length&&(e=p(t).find(".woocommerce-error").html(),o="error"),0<p(t).find(".woocommerce-info").length&&(e=p(t).find(".woocommerce-info").html()),e&&c.addedToCartNotice(e," ",!0,o),r=!1}else window.location=wc_add_to_cart_params.cart_url}})}})}},c.addedToCartNotice=function(t,e,o,i){"1"==martfuryData.added_to_cart_notice&&p.fn.notify&&(t+='<a href="'+martfuryData.l10n.cart_link+'" class="btn-button">'+martfuryData.l10n.cart_text+"</a>",o&&(t='<div class="message-box">'+t+"</div>"),p.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+t+'<span class="close icon-cross2"></span> </div>'}),p.notify(e,{autoHideDelay:martfuryData.l10n.cart_notice_auto_hide,className:i,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"}))},c.filterAjax=function(){c.$body.hasClass("catalog-ajax-filter")&&(p("#page").addClass("fade-in"),p(document.body).on("price_slider_change",function(t,e){var o=p(".price_slider").closest("form").get(0),i=p(o),a=i.attr("action")+"?"+i.serialize();p(document.body).trigger("martfury_catelog_filter_ajax",a,p(this))}),c.$body.on("click",".mf_widget_product_categories a, .mf-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a",function(t){t.preventDefault();var e=p(this).attr("href");p(document.body).trigger("martfury_catelog_filter_ajax",e,p(this))}),p(document.body).on("martfury_catelog_filter_ajax",function(t,e,o){var i=p("#content"),a=p(".page-header");NProgress.start(),p("#page").removeClass("fade-in"),"?"==e.slice(-1)&&(e=e.slice(0,-1)),e=e.replace(/%2C/g,","),history.pushState(null,null,e),p(document.body).trigger("martfury_ajax_filter_before_send_request",[e,o]),c.ajaxXHR&&c.ajaxXHR.abort(),c.ajaxXHR=p.get(e,function(t){i.replaceWith(p(t).find("#content")),a.html(p(t).find(".page-header").html()),p(t).find("#primary-sidebar").length<1&&c.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content"),p(document.body).trigger("martfury_ajax_filter_request_success",[t,e])},"html")}),p(document.body).on("martfury_ajax_filter_request_success",function(){c.lazyLoad(),c.toolTipIcon(),c.searchLayeredNav(),c.catalogBanners(),c.productsTopCarousel(),c.productCategoriesWidget(),c.productAttribute(),c.variationImagesCarousel(),c.productTopCategories(),c.priceSlider(),NProgress.done(),p("#page").addClass("fade-in")}))},c.stickyProductInfo=function(){if(c.$body.hasClass("sticky-header-info")){var o=p("#sticky-product-info-wapper"),i=p("div.product").find(".woocommerce-tabs"),a=o.outerHeight(!0),t=p("div.product").find(".mf-product-summary"),r=p("div.product").find(".entry-summary").find(".cart"),n=0;o.find(".sc-tabs").on("click","a",function(t){t.preventDefault();var e=p(this).data("tab");if(p(this).closest(".sc-tabs").find("a").removeClass("active"),p(this).addClass("active"),c.$body.hasClass("single-product-layout-3")){var o=p("#tab-"+e);0<o.length&&(n=o.offset().top-a-60,p("html, body").stop().animate({scrollTop:n},400))}else 0<i.length&&(i.find("."+e+"_tab a").click(),n=i.offset().top-a-60,p("html, body").stop().animate({scrollTop:n},400))}),i.find(".wc-tabs").on("click","a",function(t){t.preventDefault();var e=p(this).attr("href");(e=e?e.replace("#",""):e)&&(o.find(".sc-tabs").find("a").removeClass("active"),o.find(".sc-tabs ."+e).addClass("active"))}),o.find(".sc-product-cart").on("click",".button",function(t){if(t.preventDefault(),0<r.length){var e=r.offset().top-a-50;p("html, body").stop().animate({scrollTop:e},400)}});c.$body.hasClass("single-product-layout-3")&&c.$window.on("scroll",function(){o.find(".sc-tabs li a").removeClass("active"),o.find(".sc-tabs li").each(function(){var t=p(this).find("a"),e=t.attr("href");p(e).is(":in-viewport(150)")&&t.addClass("active")})});var e=0;c.$window.on("scroll",function(){0<t.length&&(e=t.offset().top-300,c.$window.scrollTop()>e?o.addClass("viewport"):o.removeClass("viewport"))})}},c.catalogOpenCartMini=function(){p(document.body).on("added_to_cart",function(t,e,o,i){var a=i.attr("data-title")+" "+martfuryData.l10n.notice_text;c.addedToCartNotice("",a,!1,"success")})},c.filterOnMobile=function(){c.$body.hasClass("catalog-filter-mobile")&&(c.$body.on("click","#mf-filter-mobile",function(t){t.preventDefault(),c.$body.toggleClass("mb-filter-active")}),c.$window.on("resize",function(){991<c.$window.width()&&c.$body.removeClass("mb-filter-active")}))},c.priceSlider=function(){if("undefined"==typeof woocommerce_price_slider_params)return!1;if(p(".catalog-sidebar").find(".widget_price_filter").length<=0)return!1;p("input#min_price, input#max_price").hide(),p(".price_slider, .price_label").show();var t=p(".price_slider_amount #min_price").data("min"),e=p(".price_slider_amount #max_price").data("max"),o=parseInt(t,10),i=parseInt(e,10);""!=p(".price_slider_amount #min_price").val()&&(o=parseInt(p(".price_slider_amount #min_price").val(),10)),""!=p(".price_slider_amount #max_price").val()&&(i=parseInt(p(".price_slider_amount #max_price").val(),10)),p(document.body).bind("price_slider_create price_slider_slide",function(t,e,o){"left"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+e),p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+o)):"left_space"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+e),p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+o)):"right"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(e+woocommerce_price_slider_params.currency_symbol),p(".price_slider_amount span.to").html(o+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&(p(".price_slider_amount span.from").html(e+" "+woocommerce_price_slider_params.currency_symbol),p(".price_slider_amount span.to").html(o+" "+woocommerce_price_slider_params.currency_symbol)),p(document.body).trigger("price_slider_updated",[e,o])}),void 0!==p.fn.slider&&p(".price_slider").slider({range:!0,animate:!0,min:t,max:e,values:[o,i],create:function(){p(".price_slider_amount #min_price").val(o),p(".price_slider_amount #max_price").val(i),p(document.body).trigger("price_slider_create",[o,i])},slide:function(t,e){p("input#min_price").val(e.values[0]),p("input#max_price").val(e.values[1]),p(document.body).trigger("price_slider_slide",[e.values[0],e.values[1]])},change:function(t,e){p(document.body).trigger("price_slider_change",[e.values[0],e.values[1]])}})},p(function(){c.init()})}(jQuery);